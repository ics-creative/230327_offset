/* --------- コーヒー --------- */
.coffee {
  position: relative;
  height: 280px;

  &_text {
    position: absolute;
    left: 45%;
    bottom: 230px;
    perspective: 200px;
    font-family: serif;
    color: #534434;

    span {
      position: absolute;
      display: block;
      font-size: 1rem;
      width: 1rem;
      offset: path('m27.5,23.5c4,12,1,23-10,24C7.494,48.41.5,39.048.5,25.5.5,12.5,14.5.5,29.5.5c18.704,0,25.174,18.976,25,31-.231,16.017-7.146,24.634-13,34-5,8-10,13-15,28-3.64,10.92-2.652,23.753,5,30');
      opacity: 0;
      transform: rotateX(-10deg);
      animation: move-text 3.2s linear infinite;
    }

    @for $i from 1 through 17 {
      > span:nth-child(#{$i}) {
        animation-delay: $i * 0.1s;
      }
    }

    @keyframes move-text {
      0% {
        offset-distance: 100%;
        opacity: 0;
        scale: 1;
      }

      10% {
        opacity: 1;
      }

      50% {
        scale: 1.8;
      }

      90% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        scale: 1;
      }
    }
  }

  &_cup {
    position: absolute;
    left: 50%;
    bottom: 10px;
    display: block;
    width: 136px;
    height: 100px;
    translate: -50%;
    background-image: url("../images/coffee/coffee_cup.png");
    background-size: contain;
    background-repeat: no-repeat;
  }
}

/* --------- お花 --------- */
.wrapper__flower {
  display: flex;
  justify-content: center;
  align-items: center;
}

.flower {
  position: relative;
  width: 200px;
  height: 200px;

  > span {
    position: absolute;
    display: block;
    width: 40px;
    height: 40px;
    background-size: contain;
    background-repeat: no-repeat;
    animation: bloom 1.5s ease-out infinite;
    offset-path: path("m98.754,196.422c31.104,0,152.054-138.577,69.462-184.493-44.918-24.971-84.351,18.188-84.351,53.101,0,27.57,30.877,28.712,30.692,0-.225-34.917-42.448-84.809-87.857-52.101-75.397,54.309,44.425,183.493,72.053,183.493");

    &:nth-child(3n){
      width: 35px;
      height: 35px;
    }

    &:nth-child(4n){
      width: 32px;
      height: 32px;
    }

    &:nth-child(7n){
      width: 28px;
      height: 28px;
    }
  }

  &_yellow {
    background-image: url("../images/flower/flower_yellow.png");
  }

  &_blue {
    background-image: url("../images/flower/flower_blue.png");
  }

  &_plum {
    background-image: url("../images/flower/flower_plum.png");
  }

  &_purple {
    background-image: url("../images/flower/flower_purple.png");
  }

  &_sakura01 {
    background-image: url("../images/flower/flower_sakura_01.png");
  }

  &_sakura02 {
    background-image: url("../images/flower/flower_sakura_02.png");
  }

  &_sakura03 {
    background-image: url("../images/flower/flower_sakura_03.png");
  }

  $total: 30;
  @for $i from 1 through $total {
    > span:nth-child(#{$i}) {
      animation-delay: $i * 0.05s;
      offset-distance: 100% / $total * $i;
    }
  }
}

@keyframes bloom {
  0% {
    opacity: 0;
    transform: scale(0) rotate(-180deg);
  }

  30% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }

  70% {
    opacity: 1;
    transform: scale(1) rotate(20deg);
  }

  100% {
    opacity: 0;
    transform: scale(0.5) rotate(180deg);
  }
}